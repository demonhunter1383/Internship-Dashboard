{% extends "base.html" %}
{% block content %}
<div class="card shadow-sm">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="card-title mb-0">{{ title }}</h4>
            <a class="btn btn-sm btn-outline-secondary" href="{{ raw_url }}" target="_blank">
                Open raw JSON
            </a>
        </div>
        <p class="text-muted mt-2">Prettified response. You can copy the JSON below.</p>
        <div class="position-relative">
            <button id="copyBtn" class="btn btn-sm btn-primary position-absolute" style="right:0;top:-42px;">
                Copy JSON
            </button>
        </div>
        <pre class="bg-light p-3 rounded border" id="jsonBlock"><code>{{ json_text | safe }}</code></pre>
    </div>
</div>

<script>
  document.getElementById('copyBtn')?.addEventListener('click', () => {
    const text = document.getElementById('jsonBlock').innerText;
    navigator.clipboard.writeText(text).then(() => {
      alert('JSON copied to clipboard');
    });
  });


</script>
{% endblock %}
